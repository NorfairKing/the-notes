%%% Commom TiKZ Library
\usetikzlibrary{positioning}

\tikzstyle{block}=[rectangle, draw=black, minimum height=2em, minimum width=3em]
\tikzstyle{a}=[arrows={-latex}]


\begin{scope}
  \node (m) at (-1.5,1.5) {$m$};
  \node (k) at (1.5,1.5) {$k$};
  \node (c0) at (0,0) {$c$};
  \node[block] (enc) at (0,1.5) {$enc$};
  \draw[a] (m) -- (enc);
  \draw[a] (k) -- (enc);
  \node[block] (f) at (1.5,0) {$f$};
  \draw[a] (k) -- (f);
  \draw[a] (enc) -- (c0);
  \node (c) at (0,-1.5) {$c$};
  \draw[a] (c0) -- (c);
  \draw[a] (c0) -- (f);
  \node (t) at (1.5,-1.5) {$t$};
  \draw[a] (f) -- (t);

  \draw (-0.75,-2) rectangle (0.75,-1);
  \draw (0.75,-2) rectangle (2.25,-1);
\end{scope}
