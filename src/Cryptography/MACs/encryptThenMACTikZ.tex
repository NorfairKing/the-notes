%%% Commom TiKZ Library
\usetikzlibrary{positioning}

\begin{scope}
  \node (m) at (-1.5,1.5) {$m$};
  \node (k) at (1.5,1.5) {$k$};
  \node (c0) at (0,0) {$c$};
  \node[rectangle, draw=black, minimum height=2em, minimum width=2em] (enc) at (0,1.5) {$enc$};
  \draw[->] (m) -- (enc);
  \draw[->] (k) -- (enc);
  \node[rectangle, draw=black, minimum height=2em, minimum width=2em] (f) at (1.5,0) {$f$};
  \draw[->] (k) -- (f);
  \draw[->] (enc) -- (c0);
  \node (c) at (0,-1.5) {$c$};
  \draw[->] (c0) -- (c);
  \draw[->] (c0) -- (f);
  \node (t) at (1.5,-1.5) {$t$};
  \draw[->] (f) -- (t);

  \draw (-0.75,-2) rectangle (0.75,-1);
  \draw (0.75,-2) rectangle (2.25,-1);
\end{scope}
